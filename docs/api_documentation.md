# API Documentation

## HTTP Endpoints

### Add User
* **Endpoint:** `/add-user`
* **Method:** `POST`
* **Parameters:**
  * `username`: The username of the new user (3-20 alphanumeric characters)
  * `password`: The password of the new user (8-32 characters, special chars allowed)
* **Responses:**
  * `201 Created`: "User created successfully" (text/plain)
  * `400 Bad Request`: "User creation failed" (text/plain)
  * `401 Unauthorized`: "Invalid username or password" (text/plain)

### Login
* **Endpoint:** `/login`
* **Method:** `POST`
* **Parameters:**
  * `username`: The username of the user
  * `password`: The password of the user
* **Responses:**
  * `200 OK`: Returns a JWT token (application/json)
  * `401 Unauthorized`: "Invalid username or password" (text/plain)

### Get Link Code
* **Endpoint:** `/get-link-code`
* **Method:** `GET`
* **Parameters:**
  * `token`: Valid JWT token
* **Responses:**
  * `200 OK`: Returns 6-digit link code (text/plain)
  * `401 Unauthorized`: "Invalid JWT token" (text/plain)
  * `500 Internal Server Error`: "Internal Server Error" (text/plain)

### Link Users
* **Endpoint:** `/link-users`
* **Method:** `POST`
* **Parameters:**
  * `token`: Valid JWT token of the user initiating the link
  * `link_code`: The 6-digit code generated by the other user
* **Responses:**
  * `200 OK`: "Success" (text/plain)
  * `401 Unauthorized`: "Invalid JWT token" (text/plain)
  * `500 Internal Server Error`: "Internal Server Error" (text/plain)

### Set User Info
* **Endpoint:** `/set-user-info`
* **Method:** `POST`
* **Parameters:**
  * `token`: Valid JWT token
  * `mood_scale`: (Optional) The user's mood scale (integer)
  * `mood_status`: (Optional) The user's mood status (string)
* **Responses:**
  * `200 OK`: "Success" (text/plain)
  * `401 Unauthorized`: "Invalid JWT token" (text/plain)
  * `409 Conflict`: "No changes" (text/plain)
  * `500 Internal Server Error`: Error message from SQL or "Internal Server Error" (text/plain)

### Get User Info
* **Endpoint:** `/get-user-info`
* **Method:** `GET`
* **Parameters:**
  * `token`: Valid JWT token
* **Responses:**
  * `200 OK`: Returns user information (JSON format assumed, TBD)
  * `401 Unauthorized`: "Invalid JWT token" (text/plain)
  * `500 Internal Server Error`: Error message from SQL or "Internal Server Error" (text/plain)

### Get Partner Info
* **Endpoint:** `/get-partner-info`
* **Method:** `GET`
* **Parameters:**
  * `token`: Valid JWT token
* **Responses:**
  * `200 OK`: Returns partner information (JSON format assumed, TBD)
  * `401 Unauthorized`: "Invalid JWT token" (text/plain)
  * `500 Internal Server Error`: Error message from SQL or "Internal Server Error" (text/plain)

### Get Daily Quiz
* **Endpoint:** `/get-daily-quiz`
* **Method:** `GET`
* **Parameters:**
  * `token`: Valid JWT token
* **Responses:**
  * `200 OK`: Returns the daily quiz data (JSON format assumed, TBD)
  * `401 Unauthorized`: "Invalid JWT token" (text/plain)
  * `500 Internal Server Error`: "Internal Server Error" (text/plain)

### Get Quiz Content
* **Endpoint:** `/get-quiz-content`
* **Method:** `GET`
* **Parameters:**
  * `token`: Valid JWT token
  * `quiz_id`: The ID of the quiz to retrieve
* **Responses:**
  * `200 OK`: Returns the quiz content (JSON format assumed, TBD)
  * `401 Unauthorized`: "Invalid JWT token" (text/plain)
  * `404 Not Found`: `{"error": "Quiz content not found"}` (application/json)
  * `500 Internal Server Error`: `{"error": "Failed to retrieve quiz content"}` (application/json)

### Answer Quiz
* **Endpoint:** `/answer-quiz`
* **Method:** `POST`
* **Parameters:**
* `token`: Valid JWT token
* `quiz_id`: The ID of the quiz being answered
* `answer`: The user's answer to the quiz
* **Responses:**
* `200 OK`: "Success" (text/plain)
* `401 Unauthorized`: "Invalid JWT token" (text/plain)
* `500 Internal Server Error`: Error message from SQL or "Internal Server Error" (text/plain)

### Get Quiz User Answer
* **Endpoint:** `/get-quiz-user-answer`
* **Method:** `GET`
* **Parameters:**
* `token`: Valid JWT token
* `quiz_id`: The ID of the quiz
* **Responses:**
* `200 OK`: Returns the user's answer for the quiz (JSON format assumed, TBD)
* `401 Unauthorized`: "Invalid JWT token" (text/plain)
* `500 Internal Server Error`: Error message from SQL or "Internal Server Error" (text/plain)

### Get Answered Quizzes
* **Endpoint:** `/get-answered-quizes`
* **Method:** `GET`
* **Parameters:**
* `token`: Valid JWT token
* **Responses:**
* `200 OK`: Returns a list of answered quizzes (JSON format assumed, TBD)
* `401 Unauthorized`: "Invalid JWT token" (text/plain)
* `500 Internal Server Error`: Error message from SQL or "Internal Server Error" (text/plain)

### Get Unanswered Quizzes
* **Endpoint:** `/get-unanswered-quizes`
* **Method:** `GET`
* **Parameters:**
* `token`: Valid JWT token
* **Responses:**
* `200 OK`: Returns a list of unanswered quizzes (JSON format assumed, TBD)
* `401 Unauthorized`: "Invalid JWT token" (text/plain)
* `500 Internal Server Error`: Error message from SQL or "Internal Server Error" (text/plain)

### Get Unanswered Quizzes for Pair
* **Endpoint:** `/get-unanswered-quizzes-for-pair`
* **Method:** `GET`
* **Parameters:**
* `token`: Valid JWT token
* **Responses:**
* `200 OK`: Returns a list of unanswered quizzes for the linked pair (JSON format assumed, TBD)
* `401 Unauthorized`: "Invalid JWT token" (text/plain)
* `500 Internal Server Error`: Error message from SQL or "Internal Server Error" (text/plain)
